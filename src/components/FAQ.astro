---
import { Icon } from "astro-icon/components";

const faqs = [
    {
        question: "How does RoomieMatch work?",
        answer: "Simply create a profile, set your preferences for location, budget, and roommate characteristics. Our AI-powered matching system will suggest compatible listings and roommates. You can browse, connect, and schedule visits all within our platform.",
        isOpen: true,
    },
    {
        question: "Are the listings verified?",
        answer: "Yes! Every listing on RoomieMatch goes through our verification process. We verify property ownership, photos, and ensure all details are accurate before publishing.",
        isOpen: false,
    },
    {
        question: "How much does it cost to use RoomieMatch?",
        answer: "Searching and browsing listings is completely free. We only charge a small service fee when you successfully find and move into a property through our platform.",
        isOpen: false,
    },
    {
        question: "Can I schedule property visits through the app?",
        answer: "Absolutely! You can request visits directly through our platform. Property owners will receive your request and you'll be notified once they confirm a time slot.",
        isOpen: false,
    },
    {
        question: "What if I have issues with my roommate or property?",
        answer: "We have a dedicated support team available 24/7 to help resolve any disputes. We also offer mediation services and can help you find alternative accommodations if needed.",
        isOpen: false,
    },
];
---

<section class="faq section">
    <div class="container">
        <div class="faq-layout">
            <!-- Left: Content -->
            <div class="faq-content">
                <span class="badge badge-pink" data-animate="fade-up">FAQs</span
                >
                <h2 class="section-title" data-animate="fade-up" data-delay="1">
                    Frequently Asked<br />Questions
                </h2>
                <p class="faq-intro" data-animate="fade-up" data-delay="2">
                    Everything you need to know about finding your perfect home
                    with RoomieMatch.
                </p>

                <div class="faq-cta" data-animate="fade-up" data-delay="3">
                    <p>Still have questions?</p>
                    <a href="/contact" class="btn btn-outline"
                        >Contact Support</a
                    >
                </div>
            </div>

            <!-- Right: FAQ List -->
            <div class="faq-list">
                {
                    faqs.map((faq, index) => (
                        <details
                            class="faq-item"
                            open={faq.isOpen}
                            data-animate="fade-left"
                            data-delay={index + 1}
                        >
                            <summary class="faq-question">
                                <span class="question-number">
                                    {String(index + 1).padStart(2, "0")}
                                </span>
                                <span class="question-text">
                                    {faq.question}
                                </span>
                                <span class="faq-icon">
                                    <Icon name="ph:plus-bold" size={20} />
                                </span>
                            </summary>
                            <div class="faq-answer">
                                <p>{faq.answer}</p>
                            </div>
                        </details>
                    ))
                }
            </div>
        </div>
    </div>
</section>

<style>
    .faq {
        background: var(--color-white);
    }

    .faq-layout {
        display: grid;
        grid-template-columns: 1fr 1.5fr;
        gap: 80px;
        align-items: start;
    }

    /* Left Content */
    .faq-content {
        position: sticky;
        top: 120px;
    }

    .faq .section-title {
        font-size: clamp(2rem, 4vw, 3rem);
        margin-bottom: 16px;
        line-height: 1.1;
    }

    .faq-intro {
        font-size: 1.1rem;
        color: var(--text-secondary);
        line-height: 1.7;
        margin-bottom: 32px;
    }

    .faq-cta p {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-bottom: 12px;
    }

    /* FAQ List */
    .faq-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .faq-item {
        background: var(--bg-secondary);
        border-radius: 20px;
        overflow: hidden;
        transition: all 0.3s var(--ease-out);
    }

    .faq-item:hover {
        background: var(--color-white);
        box-shadow: var(--shadow-md);
    }

    .faq-item[open] {
        background: var(--color-white);
        box-shadow: var(--shadow-lg);
    }

    .faq-question {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 24px;
        font-family: var(--font-display);
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--text-primary);
        cursor: pointer;
        list-style: none;
        transition: background 0.3s var(--ease-out);
    }

    .faq-question:hover {
        color: var(--color-pink-primary);
    }

    .faq-question::-webkit-details-marker {
        display: none;
    }

    .question-number {
        font-family: var(--font-display);
        font-size: 0.9rem;
        font-weight: 700;
        color: var(--color-pink-primary);
        flex-shrink: 0;
        opacity: 0.5;
    }

    .question-text {
        flex: 1;
    }

    .faq-icon {
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.03);
        border-radius: 50%;
        color: var(--text-secondary);
        transition: all 0.3s var(--ease-out);
        flex-shrink: 0;
    }

    .faq-item[open] .faq-icon {
        background: var(--color-pink-primary);
        color: white;
        transform: rotate(45deg);
    }

    .faq-answer {
        padding: 0 24px 24px 60px;
    }

    .faq-answer p {
        font-size: 1rem;
        line-height: 1.7;
        color: var(--text-secondary);
    }

    /* Responsive */
    @media (max-width: 1024px) {
        .faq-layout {
            grid-template-columns: 1fr;
            gap: 48px;
        }

        .faq-content {
            position: static;
        }
    }

    @media (max-width: 768px) {
        .faq-question {
            padding: 20px;
        }

        .faq-answer {
            padding: 0 20px 20px 20px;
        }

        .question-number {
            display: none;
        }
    }
</style>
