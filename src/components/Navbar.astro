---
interface Props {
    transparent?: boolean;
}

const { transparent = false } = Astro.props;
---

<nav class={`navbar ${transparent ? "navbar-transparent" : ""}`}>
    <div class="container">
        <div class="nav-inner">
            <a href="/" class="logo">
                <span class="logo-text">RoomieMatch</span>
            </a>

            <div class="nav-center">
                <a href="/" class="nav-link active">
                    <span>Home</span>
                </a>
                <a href="/properties" class="nav-link">
                    <span>Find Rooms</span>
                </a>
                <a href="/cities" class="nav-link">
                    <span>Cities</span>
                </a>
                <a href="/about" class="nav-link">
                    <span>About Us</span>
                </a>
                <a href="/contact" class="nav-link">
                    <span>Contact</span>
                </a>
            </div>

            <div class="nav-end">
                <a href="#" class="login-link">log in</a>
                <button class="btn-signup"> Sign Up </button>
            </div>

            <button class="mobile-toggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </div>
</nav>

<style>
    .navbar {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        padding: 16px 0;
        transition: all 0.3s ease;
    }

    .navbar:not(.navbar-transparent) {
        position: sticky;
        background: white;
        border-bottom: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .nav-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 32px;
    }

    /* Logo */
    .logo {
        display: flex;
        align-items: center;
        gap: 12px;
        flex-shrink: 0;
    }

    .logo-text {
        font-family: var(--font-display);
        font-size: 1.4rem;
        font-weight: 600;
        letter-spacing: -0.02em;
    }

    .navbar-transparent .logo-text {
        color: white;
    }

    .navbar:not(.navbar-transparent) .logo-text {
        color: var(--color-midnight);
    }

    /* Nav Center */
    .nav-center {
        display: flex;
        align-items: center;
        gap: 4px;
    }

    .nav-link {
        position: relative;
        padding: 10px 16px;
        font-size: 0.9rem;
        font-weight: 500;
        border-radius: 100px;
        transition: all 0.2s ease;
    }

    .navbar-transparent .nav-link {
        color: rgba(255, 255, 255, 0.85);
    }

    .navbar-transparent .nav-link:hover,
    .navbar-transparent .nav-link.active {
        color: white;
    }

    .navbar:not(.navbar-transparent) .nav-link {
        color: #64748b;
    }

    .navbar:not(.navbar-transparent) .nav-link:hover {
        color: var(--color-midnight);
        background: #f1f5f9;
    }

    .navbar:not(.navbar-transparent) .nav-link.active {
        color: var(--color-midnight);
        font-weight: 600;
    }

    /* Nav End */
    .nav-end {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .login-link {
        font-size: 0.9rem;
        font-weight: 500;
        transition: color 0.2s ease;
    }

    .navbar-transparent .login-link {
        color: rgba(255, 255, 255, 0.85);
    }

    .navbar-transparent .login-link:hover {
        color: white;
    }

    .navbar:not(.navbar-transparent) .login-link {
        color: #64748b;
    }

    .navbar:not(.navbar-transparent) .login-link:hover {
        color: var(--color-midnight);
    }

    .btn-signup {
        padding: 10px 22px;
        font-size: 0.85rem;
        font-weight: 600;
        border-radius: 100px;
        background: #3b82f6;
        color: white;
        transition: all 0.2s ease;
    }

    .btn-signup:hover {
        background: #2563eb;
        transform: translateY(-1px);
    }

    /* Mobile Toggle */
    .mobile-toggle {
        display: none;
        flex-direction: column;
        justify-content: center;
        gap: 5px;
        width: 44px;
        height: 44px;
        padding: 12px;
    }

    .mobile-toggle span {
        display: block;
        height: 2px;
        border-radius: 2px;
        transition: all 0.3s;
    }

    .navbar-transparent .mobile-toggle span {
        background: white;
    }

    .navbar:not(.navbar-transparent) .mobile-toggle span {
        background: var(--color-midnight);
    }

    .mobile-toggle span:nth-child(2) {
        width: 70%;
    }

    /* Responsive */
    @media (max-width: 1024px) {
        .nav-center {
            display: none;
        }
    }

    @media (max-width: 768px) {
        .navbar {
            padding: 12px 0;
        }

        .nav-end {
            display: none;
        }

        .mobile-toggle {
            display: flex;
        }
    }
</style>
