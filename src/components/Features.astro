---
import Blob from "./Blob.astro";
import { Icon } from "astro-icon/components";
---

<section class="features section">
    <div class="container">
        <!-- Feature Block 1 -->
        <div class="feature-block">
            <div class="feature-visual" data-animate="fade-right">
                <div class="visual-blob">
                    <Blob
                        color="var(--color-peach)"
                        size="100%"
                        opacity={0.3}
                    />
                </div>
                <div class="visual-image-wrapper">
                    <img
                        src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=800&q=90"
                        alt="Best room booking experience"
                        class="visual-image"
                    />
                </div>
            </div>

            <div class="feature-content" data-animate="fade-left">
                <div class="feature-header">
                    <h2 class="feature-title">Best room booking experience</h2>
                    <p class="feature-desc">
                        Browse thousands of verified rooms and apartments.
                        Filter by location, budget, and amenities to find
                        exactly what you need in seconds.
                    </p>
                </div>
                <ul class="feature-list">
                    <li>
                        <span class="check-icon"
                            ><Icon name="ph:check-bold" size={14} /></span
                        >
                        <span>Verified listings with real photos</span>
                    </li>
                    <li>
                        <span class="check-icon"
                            ><Icon name="ph:check-bold" size={14} /></span
                        >
                        <span>Secure payments & transparent pricing</span>
                    </li>
                    <li>
                        <span class="check-icon"
                            ><Icon name="ph:check-bold" size={14} /></span
                        >
                        <span>Direct chat with verified owners</span>
                    </li>
                </ul>
                <a href="/properties" class="btn btn-primary">Find a Room</a>
            </div>
        </div>

        <!-- Feature Block 2 -->
        <div class="feature-block reverse">
            <div class="feature-content" data-animate="fade-right">
                <div class="feature-header">
                    <h2 class="feature-title">Easy to find a best roommate</h2>
                    <p class="feature-desc">
                        Our intelligent matching system finds people who share
                        your lifestyle. No more awkward living situationsâ€”just
                        great vibes.
                    </p>
                </div>
                <ul class="feature-list">
                    <li>
                        <span class="check-icon"
                            ><Icon name="ph:check-bold" size={14} /></span
                        >
                        <span>AI-powered compatibility matching</span>
                    </li>
                    <li>
                        <span class="check-icon"
                            ><Icon name="ph:check-bold" size={14} /></span
                        >
                        <span>Detailed lifestyle profiles</span>
                    </li>
                    <li>
                        <span class="check-icon"
                            ><Icon name="ph:check-bold" size={14} /></span
                        >
                        <span>Safe in-app messaging</span>
                    </li>
                </ul>
                <a href="/signup" class="btn btn-primary">Join RoomieMatch</a>
            </div>

            <div class="feature-visual" data-animate="fade-left">
                <div class="visual-blob">
                    <!-- Adjusted blob position for variety -->
                    <Blob
                        color="var(--color-pink-light)"
                        size="90%"
                        right="0"
                        opacity={0.3}
                    />
                </div>
                <div class="visual-image-wrapper">
                    <img
                        src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=800&q=90"
                        alt="Find best roommate"
                        class="visual-image"
                    />
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .features {
        overflow: hidden;
    }

    .feature-block {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
        align-items: center;
        margin-bottom: 120px;
    }

    .feature-block:last-child {
        margin-bottom: 0;
    }

    .feature-block.reverse .feature-content {
        order: 1;
    }
    .feature-block.reverse .feature-visual {
        order: 2;
    }

    /* Visuals */
    .feature-visual {
        position: relative;
    }

    .visual-blob {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 120%;
        height: 120%;
        z-index: 0;
    }

    .visual-image-wrapper {
        position: relative;
        z-index: 1;
        border-radius: 40px;
        overflow: hidden;
        box-shadow: var(--shadow-xl);
    }

    .visual-image {
        width: 100%;
        height: 480px;
        object-fit: cover;
        object-fit: cover;
        transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    }

    .feature-visual:hover .visual-image {
        transform: scale(1.05);
    }

    /* Content */
    .feature-title {
        font-size: clamp(2rem, 4vw, 2.5rem);
        margin-bottom: 20px;
        color: var(--text-primary);
        line-height: 1.2;
    }

    .feature-desc {
        font-size: 1.1rem;
        color: var(--text-secondary);
        margin-bottom: 32px;
        line-height: 1.7;
    }

    .feature-list {
        list-style: none;
        margin-bottom: 32px;
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .feature-list li {
        display: flex;
        align-items: center;
        gap: 12px;
        color: var(--text-primary);
        font-weight: 500;
        font-size: 1rem;
    }

    .check-icon {
        width: 24px;
        height: 24px;
        background: rgba(255, 90, 95, 0.1);
        color: var(--color-pink-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 800;
        flex-shrink: 0;
        box-shadow: 0 4px 10px rgba(255, 90, 95, 0.2);
    }

    @media (max-width: 900px) {
        .feature-block {
            grid-template-columns: 1fr;
            gap: 40px;
            margin-bottom: 80px;
        }

        .feature-block.reverse .feature-content {
            order: 2;
        }
        .feature-block.reverse .feature-visual {
            order: 1;
        }

        .visual-image {
            height: 320px;
        }
    }
</style>
