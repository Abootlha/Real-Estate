---
const cities = [
    {
        name: "Mumbai",
        properties: "3,200+",
        image: "https://images.unsplash.com/photo-1570168007204-dfb528c6958f?w=600&h=400&fit=crop&q=90",
        highlight: true,
    },
    {
        name: "Bangalore",
        properties: "4,500+",
        image: "https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=600&h=400&fit=crop&q=90",
        highlight: true,
    },
    {
        name: "Delhi NCR",
        properties: "2,800+",
        image: "https://images.unsplash.com/photo-1587474260584-136574528ed5?w=600&h=400&fit=crop&q=90",
    },
    {
        name: "Hyderabad",
        properties: "1,900+",
        image: "https://images.unsplash.com/photo-1576502200916-3808e07386a5?w=600&h=400&fit=crop&q=90",
    },
    {
        name: "Pune",
        properties: "1,600+",
        image: "https://images.unsplash.com/photo-1625046441128-2ea1f29d7987?w=600&h=400&fit=crop&q=90",
    },
    {
        name: "Chennai",
        properties: "1,200+",
        image: "https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=600&h=400&fit=crop&q=90",
    },
];
---

<section class="section cities-section">
    <div class="container">
        <div class="section-header" data-animate="fade-up">
            <span class="section-eyebrow">Popular Locations</span>
            <h2 class="section-title">
                Explore Top <em class="text-coral">Cities</em>
            </h2>
            <p class="section-subtitle">
                Discover properties and roommates in India's most sought-after
                destinations
            </p>
        </div>

        <div class="cities-grid">
            {
                cities.map((city, index) => (
                    <a
                        href={`/city/${city.name.toLowerCase().replace(" ", "-")}`}
                        class={`city-card ${city.highlight ? "featured" : ""}`}
                        data-animate="scale-up"
                        data-delay={index + 1}
                    >
                        <div class="card-image">
                            <img
                                src={city.image}
                                alt={city.name}
                                loading="lazy"
                            />
                            <div class="card-overlay" />
                        </div>
                        <div class="card-content">
                            <h3 class="city-name">{city.name}</h3>
                            <p class="city-count">
                                {city.properties} properties
                            </p>
                        </div>
                        <div class="card-arrow">
                            <svg
                                width="20"
                                height="20"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <line x1="7" y1="17" x2="17" y2="7" />
                                <polyline points="7 7 17 7 17 17" />
                            </svg>
                        </div>
                    </a>
                ))
            }
        </div>

        <div class="section-cta" data-animate="fade-up">
            <a href="/cities" class="btn btn-secondary btn-lg">
                View All Cities
                <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
            </a>
        </div>
    </div>
</section>

<style>
    .cities-section {
        background: var(--bg-primary);
    }

    .section-header {
        text-align: center;
        margin-bottom: clamp(32px, 5vw, 60px);
    }

    .section-eyebrow {
        display: inline-block;
        font-size: var(--text-sm);
        font-weight: 600;
        color: var(--accent);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: 16px;
    }

    .section-title {
        font-family: var(--font-display);
        font-size: clamp(1.75rem, 4vw, var(--text-5xl));
        font-style: italic;
        color: var(--text-primary);
        margin-bottom: 16px;
        line-height: 1.1;
    }

    .section-subtitle {
        font-size: clamp(var(--text-base), 2vw, var(--text-lg));
        color: var(--text-secondary);
        max-width: 500px;
        margin: 0 auto;
        line-height: 1.6;
        padding: 0 16px;
    }

    /* Bento Grid Layout */
    .cities-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(2, 220px);
        gap: 16px;
    }

    /* Bento layout - First featured card (Mumbai) - large left */
    .city-card.featured:first-child {
        grid-column: 1 / 3;
        grid-row: 1 / 3;
    }

    /* Second featured card (Bangalore) - tall right */
    .city-card.featured:nth-child(2) {
        grid-column: 3;
        grid-row: 1 / 3;
    }

    /* Delhi NCR - top right */
    .city-card:nth-child(3) {
        grid-column: 4;
        grid-row: 1;
    }

    /* Hyderabad - bottom right */
    .city-card:nth-child(4) {
        grid-column: 4;
        grid-row: 2;
    }

    /* Pune and Chennai - below in a new row on smaller grids */
    .city-card:nth-child(5),
    .city-card:nth-child(6) {
        grid-column: auto;
    }

    /* City Card */
    .city-card {
        position: relative;
        border-radius: var(--radius-xl);
        overflow: hidden;
        cursor: pointer;
        min-height: 180px;
    }

    .card-image {
        position: absolute;
        inset: 0;
    }

    .card-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s var(--ease-out);
    }

    .city-card:hover .card-image img {
        transform: scale(1.08);
    }

    .card-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
            180deg,
            rgba(13, 13, 13, 0) 0%,
            rgba(13, 13, 13, 0.4) 50%,
            rgba(13, 13, 13, 0.85) 100%
        );
        transition: background 0.4s;
    }

    .city-card:hover .card-overlay {
        background: linear-gradient(
            180deg,
            rgba(13, 13, 13, 0.1) 0%,
            rgba(13, 13, 13, 0.5) 50%,
            rgba(13, 13, 13, 0.9) 100%
        );
    }

    .card-content {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: clamp(16px, 3vw, 24px);
        z-index: 1;
    }

    .city-name {
        font-family: var(--font-display);
        font-size: clamp(var(--text-lg), 2vw, var(--text-2xl));
        font-style: italic;
        color: var(--text-primary);
        margin-bottom: 4px;
    }

    .city-card.featured .city-name {
        font-size: clamp(var(--text-xl), 2.5vw, var(--text-3xl));
    }

    .city-count {
        font-size: var(--text-sm);
        color: var(--text-secondary);
    }

    .card-arrow {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 50%;
        color: var(--text-primary);
        opacity: 0;
        transform: translate(10px, -10px);
        transition: all 0.4s var(--ease-out);
        z-index: 1;
    }

    .city-card:hover .card-arrow {
        opacity: 1;
        transform: translate(0, 0);
    }

    .card-arrow:hover {
        background: var(--accent);
        border-color: var(--accent);
    }

    .section-cta {
        display: flex;
        justify-content: center;
        margin-top: clamp(32px, 5vw, 48px);
    }

    /* Large Desktop - show all 6 cities in bento */
    @media (min-width: 1200px) {
        .cities-grid {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 240px);
            gap: 20px;
        }
    }

    /* Desktop / Tablet Landscape */
    @media (max-width: 1199px) and (min-width: 900px) {
        .cities-grid {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 200px);
            gap: 16px;
        }

        .city-card.featured:first-child {
            grid-column: 1 / 2;
            grid-row: 1 / 3;
        }

        .city-card.featured:nth-child(2) {
            grid-column: 2;
            grid-row: 1 / 3;
        }

        .city-card:nth-child(3) {
            grid-column: 3;
            grid-row: 1;
        }

        .city-card:nth-child(4) {
            grid-column: 3;
            grid-row: 2;
        }

        .city-card:nth-child(5) {
            grid-column: 1 / 2;
            grid-row: 3;
        }

        .city-card:nth-child(6) {
            grid-column: 2 / 4;
            grid-row: 3;
        }
    }

    /* Tablet Portrait */
    @media (max-width: 899px) and (min-width: 600px) {
        .cities-grid {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(4, 180px);
            gap: 12px;
        }

        .city-card.featured:first-child {
            grid-column: 1;
            grid-row: 1 / 3;
        }

        .city-card.featured:nth-child(2) {
            grid-column: 2;
            grid-row: 1 / 3;
        }

        .city-card:nth-child(3) {
            grid-column: 1;
            grid-row: 3;
        }

        .city-card:nth-child(4) {
            grid-column: 2;
            grid-row: 3;
        }

        .city-card:nth-child(5) {
            grid-column: 1;
            grid-row: 4;
        }

        .city-card:nth-child(6) {
            grid-column: 2;
            grid-row: 4;
        }

        .city-card.featured .city-name {
            font-size: var(--text-xl);
        }
    }

    /* Mobile */
    @media (max-width: 599px) {
        .section-header {
            margin-bottom: 24px;
        }

        .cities-grid {
            grid-template-columns: 1fr;
            grid-template-rows: auto;
            gap: 12px;
        }

        .city-card.featured:first-child,
        .city-card.featured:nth-child(2) {
            grid-column: 1;
            grid-row: auto;
        }

        .city-card:nth-child(3),
        .city-card:nth-child(4),
        .city-card:nth-child(5),
        .city-card:nth-child(6) {
            grid-column: 1;
            grid-row: auto;
        }

        .city-card {
            min-height: 200px;
        }

        .city-card.featured {
            min-height: 260px;
        }

        .city-card.featured .city-name {
            font-size: var(--text-2xl);
        }

        .card-arrow {
            width: 36px;
            height: 36px;
            top: 12px;
            right: 12px;
        }

        .card-content {
            padding: 16px;
        }
    }

    /* Extra small mobile */
    @media (max-width: 374px) {
        .city-card {
            min-height: 180px;
        }

        .city-card.featured {
            min-height: 220px;
        }
    }
</style>
