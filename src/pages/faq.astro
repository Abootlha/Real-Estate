---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";

const faqs = [
    {
        category: "Getting Started",
        questions: [
            {
                q: "How do I create an account?",
                a: "Creating an account is easy! Click on 'Sign Up' in the top right corner, enter your email and create a password. You can also sign up using your Google or Facebook account for faster registration.",
            },
            {
                q: "Is RoomieMatch free to use?",
                a: "Yes! RoomieMatch is completely free for people looking for rooms or roommates. You can browse listings, save favorites, and connect with potential roommates without any charges.",
            },
            {
                q: "How does the matching algorithm work?",
                a: "Our AI analyzes 50+ compatibility factors including lifestyle, work schedule, cleanliness habits, social preferences, and budget to find roommates who match your living style.",
            },
        ],
    },
    {
        category: "Rooms & Roommates",
        questions: [
            {
                q: "How are profiles verified?",
                a: "Every profile goes through our verification process. We verify ID proof, LinkedIn profiles, or employment details. Verified profiles get a badge and appear higher in search results.",
            },
            {
                q: "Can I meet roommates before deciding?",
                a: "Absolutely! We encourage in-app chat, video calls, and in-person meetings before making any commitment. Safety first!",
            },
            {
                q: "How do I list my room?",
                a: "Click 'List a Room' from the menu, add photos, describe your space, set your preferences for an ideal roommate, and publish. Verified listings get 5x more responses!",
            },
            {
                q: "What if I have a bad experience with a roommate?",
                a: "Report immediately using our in-app reporting. Our safety team investigates within 24 hours. We have a zero-tolerance policy for harassment or fraudulent profiles.",
            },
        ],
    },
    {
        category: "Safety & Privacy",
        questions: [
            {
                q: "Is my personal data safe?",
                a: "Absolutely. We use bank-level encryption to protect your data. We never share your phone number or email with others until you choose to share it.",
            },
            {
                q: "How do I report a suspicious profile?",
                a: "Click the 'Report' button on any profile or listing. Include details about your concern. Our team reviews all reports within hours.",
            },
            {
                q: "What safety features do you have?",
                a: "We offer verified badges, in-app messaging (no personal info shared), video call verification, and 24/7 support for any safety concerns.",
            },
        ],
    },
    {
        category: "Account & Settings",
        questions: [
            {
                q: "How do I reset my password?",
                a: "Click 'Log in' and then 'Forgot password'. Enter your registered email, and we'll send you a password reset link. The link expires in 24 hours for security.",
            },
            {
                q: "Can I pause my listing temporarily?",
                a: "Yes! Go to your listing and click 'Pause Listing'. This hides it from search results but keeps all your data safe for when you're ready to reactivate.",
            },
            {
                q: "How do I delete my account?",
                a: "Go to Settings > Account > Delete Account. Note that this action is permanent and will remove all your saved matches and conversations.",
            },
        ],
    },
];
---

<Layout
    title="FAQs | RoomieMatch"
    description="Find answers to frequently asked questions about using RoomieMatch to find roommates."
>
    <Navbar />

    <main class="faq-page">
        <!-- Hero -->
        <section class="faq-hero">
            <div class="container">
                <span class="section-label">FAQs</span>
                <h1 class="hero-title">How can we help?</h1>
                <p class="hero-subtitle">
                    Find answers to commonly asked questions. Can't find what
                    you're looking for? Contact our support team.
                </p>

                <div class="search-faq">
                    <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21l-4.35-4.35"></path>
                    </svg>
                    <input
                        type="text"
                        placeholder="Search for answers..."
                        id="faqSearch"
                    />
                </div>
            </div>
        </section>

        <!-- Quick Links -->
        <section class="quick-links">
            <div class="container">
                <div class="links-grid">
                    {
                        faqs.map((section, i) => (
                            <a
                                href={`#${section.category.toLowerCase().replace(/\s+/g, "-")}`}
                                class="quick-link"
                            >
                                <span class="link-number">0{i + 1}</span>
                                <span class="link-text">
                                    {section.category}
                                </span>
                            </a>
                        ))
                    }
                </div>
            </div>
        </section>

        <!-- FAQ Content -->
        <section class="faq-content">
            <div class="container">
                {
                    faqs.map((section) => (
                        <div
                            class="faq-section"
                            id={section.category
                                .toLowerCase()
                                .replace(/\s+/g, "-")}
                        >
                            <h2 class="section-title">{section.category}</h2>

                            <div class="faq-list">
                                {section.questions.map((item) => (
                                    <div class="faq-item">
                                        <button class="faq-trigger">
                                            <span class="faq-question">
                                                {item.q}
                                            </span>
                                            <span class="faq-icon">
                                                <svg
                                                    width="20"
                                                    height="20"
                                                    viewBox="0 0 24 24"
                                                    fill="none"
                                                    stroke="currentColor"
                                                    stroke-width="2"
                                                >
                                                    <path d="M12 5v14M5 12h14" />
                                                </svg>
                                            </span>
                                        </button>
                                        <div class="faq-answer">
                                            <p>{item.a}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    ))
                }
            </div>
        </section>

        <!-- Contact CTA -->
        <section class="contact-cta">
            <div class="container">
                <div class="cta-card">
                    <div class="cta-content">
                        <h2>Still have questions?</h2>
                        <p>
                            Our support team is ready to help you with any
                            questions you might have.
                        </p>
                    </div>
                    <div class="cta-actions">
                        <a href="/contact" class="btn btn-primary btn-lg">
                            Contact Support
                            <svg
                                width="18"
                                height="18"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <path d="M5 12h14M12 5l7 7-7 7"></path>
                            </svg>
                        </a>
                        <button class="btn btn-secondary btn-lg">
                            <svg
                                width="18"
                                height="18"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <path
                                    d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"
                                ></path>
                            </svg>
                            Live Chat
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <Footer />
</Layout>

<style>
    .faq-page {
        min-height: 100vh;
    }

    .section-label {
        display: inline-block;
        font-size: var(--text-sm);
        font-weight: 600;
        color: var(--accent);
        text-transform: uppercase;
        letter-spacing: 0.08em;
        margin-bottom: 12px;
    }

    /* Hero */
    .faq-hero {
        padding: 80px 0 60px;
        text-align: center;
        background: linear-gradient(
            180deg,
            var(--bg-secondary) 0%,
            var(--bg-primary) 100%
        );
    }

    .hero-title {
        font-family: var(--font-display);
        font-size: var(--text-5xl);
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 16px;
        letter-spacing: -0.02em;
    }

    .hero-subtitle {
        font-size: var(--text-lg);
        color: var(--text-muted);
        max-width: 500px;
        margin: 0 auto 40px;
        line-height: 1.7;
    }

    .search-faq {
        display: flex;
        align-items: center;
        gap: 12px;
        max-width: 560px;
        margin: 0 auto;
        padding: 18px 24px;
        background: var(--bg-elevated);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-full);
        box-shadow: var(--shadow-lg);
    }

    .search-faq svg {
        color: var(--text-muted);
        flex-shrink: 0;
    }

    .search-faq input {
        flex: 1;
        border: none;
        background: transparent;
        font-size: var(--text-base);
        color: var(--text-primary);
        font-family: var(--font-body);
    }

    .search-faq input:focus {
        outline: none;
    }

    /* Quick Links */
    .quick-links {
        padding: 48px 0;
        border-bottom: 1px solid var(--border-subtle);
    }

    .links-grid {
        display: flex;
        justify-content: center;
        gap: 16px;
        flex-wrap: wrap;
    }

    .quick-link {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 16px 24px;
        background: var(--bg-secondary);
        border-radius: var(--radius-xl);
        transition: all var(--duration-fast);
    }

    .quick-link:hover {
        background: var(--accent-light);
    }

    .link-number {
        font-family: var(--font-display);
        font-size: var(--text-sm);
        font-weight: 600;
        color: var(--accent);
    }

    .link-text {
        font-size: var(--text-sm);
        font-weight: 500;
        color: var(--text-primary);
    }

    /* FAQ Content */
    .faq-content {
        padding: 80px 0;
    }

    .faq-section {
        margin-bottom: 60px;
    }

    .faq-section:last-child {
        margin-bottom: 0;
    }

    .section-title {
        font-family: var(--font-display);
        font-size: var(--text-2xl);
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 2px solid var(--accent);
        display: inline-block;
    }

    .faq-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .faq-item {
        background: var(--bg-secondary);
        border-radius: var(--radius-xl);
        overflow: hidden;
        transition: all var(--duration-base);
    }

    .faq-item:hover {
        background: var(--color-pearl);
    }

    .faq-trigger {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        padding: 24px;
        text-align: left;
    }

    .faq-question {
        font-size: var(--text-base);
        font-weight: 500;
        color: var(--text-primary);
        line-height: 1.5;
    }

    .faq-icon {
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--bg-elevated);
        border-radius: var(--radius-md);
        color: var(--text-muted);
        flex-shrink: 0;
        transition: all var(--duration-base);
    }

    .faq-item.active .faq-icon {
        background: var(--accent);
        color: white;
        transform: rotate(45deg);
    }

    .faq-answer {
        display: grid;
        grid-template-rows: 0fr;
        transition: grid-template-rows var(--duration-base) var(--ease-out);
    }

    .faq-item.active .faq-answer {
        grid-template-rows: 1fr;
    }

    .faq-answer > p {
        overflow: hidden;
        padding: 0 24px;
        font-size: var(--text-sm);
        line-height: 1.8;
        color: var(--text-secondary);
    }

    .faq-item.active .faq-answer > p {
        padding-bottom: 24px;
    }

    /* Contact CTA */
    .contact-cta {
        padding: 80px 0;
        background: var(--bg-secondary);
    }

    .cta-card {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 40px;
        padding: 48px;
        background: var(--color-midnight);
        border-radius: var(--radius-3xl);
        color: white;
    }

    .cta-content h2 {
        font-family: var(--font-display);
        font-size: var(--text-3xl);
        font-weight: 600;
        margin-bottom: 8px;
    }

    .cta-content p {
        font-size: var(--text-base);
        opacity: 0.8;
    }

    .cta-actions {
        display: flex;
        gap: 16px;
    }

    @media (max-width: 768px) {
        .hero-title {
            font-size: var(--text-4xl);
        }

        .cta-card {
            flex-direction: column;
            text-align: center;
        }

        .cta-actions {
            flex-direction: column;
            width: 100%;
        }

        .cta-actions .btn {
            width: 100%;
            justify-content: center;
        }
    }
</style>

<script>
    // FAQ Accordion
    document.querySelectorAll(".faq-trigger").forEach((trigger) => {
        trigger.addEventListener("click", () => {
            const item = trigger.parentElement;
            const isActive = item?.classList.contains("active");

            // Close all items in the same section
            const section = item?.closest(".faq-section");
            section?.querySelectorAll(".faq-item").forEach((i) => {
                i.classList.remove("active");
            });

            // Open clicked item if it wasn't active
            if (!isActive && item) {
                item.classList.add("active");
            }
        });
    });

    // Search functionality (basic)
    const searchInput = document.getElementById(
        "faqSearch",
    ) as HTMLInputElement;
    searchInput?.addEventListener("input", (e) => {
        const query = (e.target as HTMLInputElement).value.toLowerCase();
        document.querySelectorAll(".faq-item").forEach((item) => {
            const question =
                item
                    .querySelector(".faq-question")
                    ?.textContent?.toLowerCase() || "";
            if (question.includes(query)) {
                (item as HTMLElement).style.display = "block";
            } else {
                (item as HTMLElement).style.display = query ? "none" : "block";
            }
        });
    });
</script>
